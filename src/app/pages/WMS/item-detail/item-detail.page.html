<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="item"></ion-back-button>
            <ion-button color="dark" class="ion-hide-sm-down">
                Sản phẩm
            </ion-button>
        </ion-buttons>
        <ion-buttons slot="end">
            <app-detail-toolbar [item]="item" [pageConfig]="pageConfig" (refresh)="refresh()" (delete)="delete()" (help)="help()"></app-detail-toolbar>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content appScrollbarTheme class="ion-padding">
    <div id="order-detail-page" style="position: absolute;"></div>
    <div class="main-view">
        <ion-grid fixed>
            <ion-row>
                <ion-col class="img-holder" size="12" size-sm="300px">
                    <img src="/assets/undraw_road_sign_mfpo.svg" alt="">
                </ion-col>
                <ion-col size="12" size-sm>
                    <ion-grid>
                        <ion-row>
                            <ion-col size="12" size-md="12" size-lg="12" size-xl="5">
                                <div class="c-control">
                                    <label class="c-label">Tên sản phẩm <small>Item name</small></label>
                                    <input readonly class="c-input" [(ngModel)]="item.Name" type="text">
                                </div>
                            </ion-col>
                            <ion-col size="12" size-md="12" size-lg="12" size-xl="5">
                                <div class="c-control">
                                    <label class="c-label">Mã sản phẩm <small>Của hãng</small></label>
                                    <input readonly class="c-input" [(ngModel)]="item.Code" type="text">
                                </div>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-col>
            </ion-row>
        </ion-grid>

        <div class="row-full shadow full-screen">
            <ion-toolbar color="primary">
                <ion-segment scrollable="true" (ionChange)="segmentChanged($event)" [value]="segmentView.Page">
                    <!-- <ion-segment-button value="s0">
                        <ion-label>Thông tin</ion-label>
                    </ion-segment-button> -->
                    <ion-segment-button value="s4">
                        <ion-label>Thông tin chung</ion-label>
                    </ion-segment-button>
                    <ion-segment-button value="s1">
                        <ion-label>Đơn vị/quy cách</ion-label>
                    </ion-segment-button>
                    <ion-segment-button value="s3">
                        <ion-label>Đơn giá</ion-label>
                    </ion-segment-button>
                    <ion-segment-button value="s6">
                        <ion-label>Chủ hàng</ion-label>
                    </ion-segment-button>
                    <!-- <ion-segment-button value="s5">
                        <ion-label>Lưu kho</ion-label>
                    </ion-segment-button> -->
                    <ion-segment-button value="s2">
                        <ion-label>Hình ảnh</ion-label>
                    </ion-segment-button>

                    <!-- <ion-segment-button value="s6">
                        <ion-label>Mua vào</ion-label>
                    </ion-segment-button> -->
                </ion-segment>
            </ion-toolbar>
            <div>
                <div *ngIf="segmentView.Page == 's4'">
                    <div class="ion-padding">
                        <ion-grid fixed>
                            <form [formGroup]="formGroup">
                                <ion-row class="hr-group">
                                    <ion-col size="12" size-sm="12" size-md="12" size-xl="3">
                                        <ion-list-header class="ion-no-padding">
                                            <ion-label color="primary">Thông tin sản phẩm</ion-label>
                                        </ion-list-header>
                                    </ion-col>
                                    <ion-col size="12" size-sm size-xl="4">
                                        <div class="c-control">
                                            <label class="c-label" for="Id">Id</label>
                                            <input class="c-input" readonly id="Id" formControlName="Id" type="number">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="Code">Mã sản phẩm <small>Của hãng</small>
                                                <span *ngIf="!formGroup.controls.Code.valid && !formGroup.controls.Code.pending && (formGroup.controls.Code.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Code" formControlName="Code" type="text">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="Name">Tên vật tư / hàng hóa
                                                <span *ngIf="!formGroup.controls.Name.valid && !formGroup.controls.Name.pending && (formGroup.controls.Name.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Name" formControlName="Name" type="text">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="ForeignName">Tên tiếng Anh
                                                <span *ngIf="!formGroup.controls.ForeignName.valid && !formGroup.controls.ForeignName.pending && (formGroup.controls.ForeignName.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="ForeignName" formControlName="ForeignName" type="text">
                                        </div>
                                    </ion-col>
                                    <ion-col size="12" size-sm size-xl="4">
                                        <div class="c-control">
                                            <label class="c-label" for="Expiry">Thời hạn sử dụng từ ngày sản xuất
                                                <span *ngIf="!formGroup.controls.Expiry.valid && !formGroup.controls.Expiry.pending && (formGroup.controls.Expiry.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Expiry" formControlName="Expiry" type="int">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="ExpiryUnit">Đơn vị
                                                <span *ngIf="!formGroup.controls.ExpiryUnit.valid && !formGroup.controls.ExpiryUnit.pending && (formGroup.controls.ExpiryUnit.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <ng-select class="c-input" (change)="saveChange();" labelForId="ExpiryUnit" formControlName="ExpiryUnit" [items]="ExpiryUnitList" bindLabel="Name" bindValue="Code" placeholder="Tìm kiếm...">
                                                <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                    <div *ngIf="i">
                                                        <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                    </div>
                                                </ng-template>
                                            </ng-select>
                                        </div>
                                        <div class="c-control">
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-checkbox" id="IsInventoryItem" formControlName="IsInventoryItem" type="checkbox">
                                            <label class="c-label checkbox" for="IsInventoryItem">Sản phẩm có thể lưu kho
                                                <span *ngIf="!formGroup.controls.IsInventoryItem.valid && !formGroup.controls.IsInventoryItem.pending && (formGroup.controls.IsInventoryItem.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <br>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-checkbox" id="IsSalesItem" formControlName="IsSalesItem" type="checkbox">
                                            <label class="c-label checkbox" for="IsSalesItem">Sản phẩm có thể bán
                                                <span *ngIf="!formGroup.controls.IsSalesItem.valid && !formGroup.controls.IsSalesItem.pending && (formGroup.controls.IsSalesItem.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <br>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-checkbox" id="IsPurchaseItem" formControlName="IsPurchaseItem" type="checkbox">
                                            <label class="c-label checkbox" for="IsPurchaseItem">Sản phẩm có thể đặt mua
                                                <span *ngIf="!formGroup.controls.IsPurchaseItem.valid && !formGroup.controls.IsPurchaseItem.pending && (formGroup.controls.IsPurchaseItem.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <br>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-checkbox" id="IsDisabled" formControlName="IsDisabled" type="checkbox">
                                            <label class="c-label checkbox" for="IsDisabled">Sản phẩm đã ngưng sử dụng
                                                <span *ngIf="!formGroup.controls.IsDisabled.valid && !formGroup.controls.IsDisabled.pending && (formGroup.controls.IsDisabled.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                        </div>
                                    </ion-col>
                                </ion-row>


                                <ion-row class="hr-group">
                                    <ion-col size="12" size-sm="12" size-md="12" size-xl="3">
                                        <ion-list-header class="ion-no-padding">
                                            <ion-label color="primary">Nhà cung cấp</ion-label>
                                        </ion-list-header>
                                    </ion-col>
                                    <ion-col size="12" size-sm size-xl="8">
                                        <div class="c-control">
                                            <ng-select class="c-input vendors" (change)="saveChange();" labelForId="VendorIds" formControlName="VendorIds" 
                                            [items]="vendorList"  bindLabel="Name" bindValue="Id" [multiple]="true" placeholder="Chọn nhà cung cấp...">
                                                <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                    <div *ngIf="i">
                                                        <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                    </div>
                                                </ng-template>
                                            </ng-select>
                                        </div>

                                    </ion-col>
                                </ion-row>
                                

                                <ion-row class="hr-group">
                                    <ion-col size="12" size-sm="12" size-md="12" size-xl="3">
                                        <ion-list-header class="ion-no-padding">
                                            <ion-label color="primary">Phân loại sản phẩm</ion-label>
                                        </ion-list-header>
                                    </ion-col>
                                    <ion-col size="12" size-sm size-xl="4">
                                        <div class="c-control">
                                            <label class="c-label" for="IDItemGroup">Thuộc nhóm</label>
                                            <ng-select class="c-input" [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="changeGroup();  saveChange();" #IDItemGroup labelForId="IDItemGroup" formControlName="IDItemGroup" [items]="itemGroupList$ | async" [typeahead]="itemGroupListInput$" [loading]='itemGroupListLoading' [virtualScroll]="true" bindLabel="Name" bindValue="Id" placeholder="Tìm nhóm sản phẩm...">
                                                <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                    <div *ngIf="i">
                                                        <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                    </div>
                                                </ng-template>
                                            </ng-select>
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="ItemType">Loại sản phẩm
                                                <span *ngIf="!formGroup.controls.ItemType.valid && !formGroup.controls.ItemType.pending && (formGroup.controls.ItemType.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <ng-select class="c-input" (change)="saveChange();" labelForId="ItemType" formControlName="ItemType" [items]="ItemTypeList" bindLabel="Name" bindValue="Code" placeholder="Tìm kiếm...">
                                                <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                    <div *ngIf="i">
                                                        <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                    </div>
                                                </ng-template>
                                            </ng-select>
                                        </div>

                                        <div class="c-control">
                                            <label class="c-label" for="IDCartonGroup">Carton group
                                                <span *ngIf="!formGroup.controls.IDCartonGroup.valid && !formGroup.controls.IDCartonGroup.pending && (formGroup.controls.IDCartonGroup.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <ng-select class="c-input" (change)="saveChange();" labelForId="IDCartonGroup" formControlName="IDCartonGroup" [items]="cartonGroupList" bindLabel="Name" bindValue="Id" placeholder="Tìm kiếm...">
                                                <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                    <div *ngIf="i">
                                                        <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                    </div>
                                                </ng-template>
                                            </ng-select>
                                        </div>
                                    </ion-col>
                                    <ion-col size="12" size-sm size-xl="4">
                                        <div class="c-control">
                                            <label class="c-label" for="Industry">Industry
                                                <span *ngIf="!formGroup.controls.Industry.valid && !formGroup.controls.Industry.pending && (formGroup.controls.Industry.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <ng-select class="c-input" (change)="saveChange();" labelForId="Industry" formControlName="Industry" [items]="IndustryList" bindLabel="Name" bindValue="Code" placeholder="Tìm kiếm...">
                                                <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                    <div *ngIf="i">
                                                        <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                    </div>
                                                </ng-template>
                                            </ng-select>
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="Division">Division
                                                <span *ngIf="!formGroup.controls.Division.valid && !formGroup.controls.Division.pending && (formGroup.controls.Division.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <ng-select class="c-input" (change)="saveChange();" labelForId="Division" formControlName="Division" [items]="DivisionList" bindLabel="Name" bindValue="Code" placeholder="Tìm kiếm...">
                                                <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                    <div *ngIf="i">
                                                        <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                    </div>
                                                </ng-template>
                                            </ng-select>
                                        </div>

                                        

                                    </ion-col>
                                </ion-row>

                                <ion-row class="hr-group">
                                    <ion-col size="12" size-sm="12" size-md="12" size-xl="3">
                                        <ion-list-header class="ion-no-padding">
                                            <ion-label color="primary">Tax</ion-label>
                                        </ion-list-header>
                                    </ion-col>
                                    <ion-col size="12" size-sm size-xl="4">
                                        <div class="c-control">
                                            <label class="c-label" for="IDSalesTaxDefinition">Sales Tax</label>
                                            <ng-select class="c-input" [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="changeGroup();  saveChange();" #IDSalesTaxDefinition labelForId="IDSalesTaxDefinition" formControlName="IDSalesTaxDefinition" [items]="outputTaxList" [virtualScroll]="true" bindLabel="Name" bindValue="Id" placeholder="Tìm nhóm sản phẩm...">
                                                <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                    <div *ngIf="i">
                                                        <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                    </div>
                                                </ng-template>
                                            </ng-select>
                                        </div>
                                        
                                        <div class="c-control">
                                            <label class="c-label" for="IDPurchaseTaxDefinition">Purchase Tax</label>
                                            <ng-select class="c-input" [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="changeGroup();  saveChange();" #IDPurchaseTaxDefinition labelForId="IDPurchaseTaxDefinition" formControlName="IDPurchaseTaxDefinition" [items]="inputTaxList" [virtualScroll]="true" bindLabel="Name" bindValue="Id" placeholder="Tìm nhóm sản phẩm...">
                                                <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                    <div *ngIf="i">
                                                        <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                    </div>
                                                </ng-template>
                                            </ng-select>
                                        </div>

                                    </ion-col>
                                </ion-row>

                                <ion-row class="hr-group">
                                    <ion-col size="12" size-sm="12" size-md="12" size-xl="3">
                                        <ion-list-header class="ion-no-padding">
                                            <ion-label color="primary">Serial number</ion-label>
                                        </ion-list-header>
                                    </ion-col>
                                    <ion-col size="12" size-sm size-xl="8" class="ion-no-padding">
                                        <ion-grid>
                                            <ion-row>
                                                <ion-col size="12" size-sm size-xl="4">
                                                    <div class="c-control">
                                                        <label class="c-label" for="SerialNumberStart">Bắt đầu
                                                            <span *ngIf="!formGroup.controls.SerialNumberStart.valid && !formGroup.controls.SerialNumberStart.pending && (formGroup.controls.SerialNumberStart.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                        </label>
                                                        <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="SerialNumberStart" formControlName="SerialNumberStart" type="text">
                                                    </div>
                                                </ion-col>
                                                <ion-col size="12" size-sm size-xl="4">
                                                    <div class="c-control">
                                                        <label class="c-label" for="SerialNumberEnd">Kết thúc
                                                            <span *ngIf="!formGroup.controls.SerialNumberEnd.valid && !formGroup.controls.SerialNumberEnd.pending && (formGroup.controls.SerialNumberEnd.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                        </label>
                                                        <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="SerialNumberEnd" formControlName="SerialNumberEnd" type="text">
                                                    </div>
                                                </ion-col>
                                                <ion-col size="12" size-sm size-xl="4">
                                                    <div class="c-control">
                                                        <label class="c-label" for="SerialNumberNext">Tiếp theo
                                                            <span *ngIf="!formGroup.controls.SerialNumberNext.valid && !formGroup.controls.SerialNumberNext.pending && (formGroup.controls.SerialNumberNext.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                        </label>
                                                        <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="SerialNumberNext" formControlName="SerialNumberNext" type="text">
                                                    </div>
                                                </ion-col>
                                            </ion-row>
                                        </ion-grid>
                                    </ion-col>
                                </ion-row>

                                <ion-row class="hr-group">
                                    <ion-col size="12" size-sm="12" size-md="12" size-xl="3">
                                        <ion-list-header class="ion-no-padding">
                                            <ion-label color="primary">Lottable</ion-label>
                                        </ion-list-header>
                                    </ion-col>
                                    <ion-col size="12" size-sm size-xl="4">
                                        <div class="c-control">
                                            <label class="c-label" for="Lottable0">Lottable0
                                                <span *ngIf="!formGroup.controls.Lottable0.valid && !formGroup.controls.Lottable0.pending && (formGroup.controls.Lottable0.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Lottable0" formControlName="Lottable0" type="text">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="Lottable1">Lottable1
                                                <span *ngIf="!formGroup.controls.Lottable1.valid && !formGroup.controls.Lottable1.pending && (formGroup.controls.Lottable1.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Lottable1" formControlName="Lottable1" type="text">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="Lottable2">Lottable2
                                                <span *ngIf="!formGroup.controls.Lottable2.valid && !formGroup.controls.Lottable2.pending && (formGroup.controls.Lottable2.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Lottable2" formControlName="Lottable2" type="text">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="Lottable3">Lottable3
                                                <span *ngIf="!formGroup.controls.Lottable3.valid && !formGroup.controls.Lottable3.pending && (formGroup.controls.Lottable3.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Lottable3" formControlName="Lottable3" type="text">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="Lottable4">Lottable4
                                                <span *ngIf="!formGroup.controls.Lottable4.valid && !formGroup.controls.Lottable4.pending && (formGroup.controls.Lottable4.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Lottable4" formControlName="Lottable4" type="text">
                                        </div>
                                    </ion-col>
                                    <ion-col size="12" size-sm size-xl="4">
                                        <div class="c-control">
                                            <label class="c-label" for="Lottable5">Lottable5
                                                <span *ngIf="!formGroup.controls.Lottable5.valid && !formGroup.controls.Lottable5.pending && (formGroup.controls.Lottable5.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Lottable5" formControlName="Lottable5" type="text">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="Lottable6">Lottable6
                                                <span *ngIf="!formGroup.controls.Lottable6.valid && !formGroup.controls.Lottable6.pending && (formGroup.controls.Lottable6.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Lottable6" formControlName="Lottable6" type="text">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="Lottable7">Lottable7
                                                <span *ngIf="!formGroup.controls.Lottable7.valid && !formGroup.controls.Lottable7.pending && (formGroup.controls.Lottable7.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Lottable7" formControlName="Lottable7" type="text">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="Lottable8">Lottable8
                                                <span *ngIf="!formGroup.controls.Lottable8.valid && !formGroup.controls.Lottable8.pending && (formGroup.controls.Lottable8.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Lottable8" formControlName="Lottable8" type="text">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="Lottable9">Lottable9
                                                <span *ngIf="!formGroup.controls.Lottable9.valid && !formGroup.controls.Lottable9.pending && (formGroup.controls.Lottable9.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="Lottable9" formControlName="Lottable9" type="text">
                                        </div>
                                    </ion-col>
                                </ion-row>
                                <ion-row class="hr-group">
                                    <ion-col size="12" size-sm="12" size-md="12" size-xl="3">
                                        <ion-list-header class="ion-no-padding">
                                            <ion-label color="primary">Khác</ion-label>
                                        </ion-list-header>
                                        <ion-item class="ion-no-padding" lines="none">
                                            <ion-label color="medium" class="ion-text-wrap">
                                                
                                                <ul>
                                                    <!-- <li>Std Cost: Giá thành định mức</li> -->
                                                    <li>TI x HI = Số thùng / pallet <ul>
                                                            <li>TI: Số thùng được xếp trên một lớp (Tie) </li>
                                                            <li>HI: Số lớp chất chồng lên nhau (High)</li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </ion-label>
                                        </ion-item>
                                    </ion-col>
                                    <ion-col size="12" size-sm size-xl="4">
                                        <div class="c-control">
                                            <label class="c-label" for="TI">TI - Số thùng / lớp
                                                <span *ngIf="!formGroup.controls.TI.valid && !formGroup.controls.TI.pending && (formGroup.controls.TI.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="TI" formControlName="TI" type="number">
                                        </div>
                                        <div class="c-control">
                                            <label class="c-label" for="HI">HI - Số lớp
                                                <span *ngIf="!formGroup.controls.HI.valid && !formGroup.controls.HI.pending && (formGroup.controls.HI.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="HI" formControlName="HI" type="number">
                                        </div>
                                        
                                    </ion-col>
                                    <ion-col size="12" size-sm size-xl="4">
                                        <!-- <div class="c-control">
                                            <label class="c-label" for="ForeignRemark">Mô tả tiếng Anh
                                                <span *ngIf="!formGroup.controls.ForeignRemark.valid && !formGroup.controls.ForeignRemark.pending && (formGroup.controls.ForeignRemark.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <textarea [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" rows="3" class="c-input" id="ForeignRemark" formControlName="ForeignRemark" type="textarea"></textarea>
                                        </div> -->
                                        <div class="c-control">
                                            <label class="c-label" for="Remark">Mô tả
                                                <span *ngIf="!formGroup.controls.Remark.valid && !formGroup.controls.Remark.pending && (formGroup.controls.Remark.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                            </label>
                                            <textarea [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" rows="3" class="c-input" id="Remark" formControlName="Remark" type="textarea"></textarea>
                                        </div>
                                    </ion-col>
                                </ion-row>
                            </form>
                        </ion-grid>
                    </div>
                </div>
                <div id="uom" *ngIf="segmentView.Page == 's1'">
                    <div class="table-contain">
                        <section class="table" style="min-width: 1220px;">
                            <header class="bold" style="padding-right: 0;">
                                <div class="col-checkbox cell">Đ.vị gốc</div>
                                <div class="col-checkbox cell">Lẻ KT</div>
                                <div class="col-checkbox cell">Mua vào</div>
                                <div class="col-checkbox cell">Lưu kho</div>
                                <div class="col-checkbox cell">Bán ra</div>
                                <div class="col1 cell">Cứ</div>
                                <div class="col2 cell">Đơn vị</div>
                                <div class="col3 cell">=</div>
                                <div class="col4 cell">Quy đổi</div>
                                <div class="col2 cell"></div>
                                <div class="col5 cell">Dài (cm)</div>
                                <div class="col6 cell">Rộng</div>
                                <div class="col7 cell">Cao</div>
                                <div class="col8 cell">K.L (kg)</div>
                                <div class="col2 cell">Barcode</div>
                                <div class="col3 cell"></div>
                            </header>
                            <div class="row" [ngClass]="{odd: j % 2 != 0 }" *ngFor="let i of UoMs; let j = index;">
                                <div class="col-checkbox cell" (click)="changeBaseUoM(i)">
                                    <ion-checkbox [disabled]="!pageConfig.canEditUoM" [(ngModel)]="i.IsBaseUoM"></ion-checkbox>
                                </div>
                                <div class="col-checkbox cell" (click)="changeBaseUoM(i)">
                                    <ion-checkbox [disabled]="!pageConfig.canEditUoM" [(ngModel)]="i.IsBaseUoM"></ion-checkbox>
                                </div>
                                <div class="col-checkbox cell" (click)="item.PurchasingUoM = pageConfig.canEditUoM ? i.Id: item.PurchasingUoM; updateUoM()">
                                    <ion-checkbox [disabled]="!pageConfig.canEditUoM" [checked]="item.PurchasingUoM == i.Id"></ion-checkbox>
                                </div>
                                <div class="col-checkbox cell" (click)="item.InventoryUoM = pageConfig.canEditUoM ? i.Id: item.InventoryUoM; updateUoM()">
                                    <ion-checkbox [disabled]="!pageConfig.canEditUoM" [checked]="item.InventoryUoM == i.Id"></ion-checkbox>
                                </div>
                                <div class="col-checkbox cell" (click)="item.SalesUoM = pageConfig.canEditUoM ? i.Id: item.SalesUoM; updateUoM()">
                                    <ion-checkbox [disabled]="!pageConfig.canEditUoM" [checked]="item.SalesUoM == i.Id"></ion-checkbox>
                                </div>
                                <div class="col1 cell"><input *ngIf="!i.IsBaseUoM" [disabled]="!pageConfig.canEditUoM" class="c-input" (change)="saveUoM(i)" [(ngModel)]="i.AlternativeQuantity" type="number" min="1"></div>
                                <div class="col2 cell">

                                    <ng-select class="c-input" (change)="changedUoM($event, i)" [disabled]="!pageConfig.canEditUoM" [addTag]="createNewUoM.bind(this)" [(ngModel)]="i.Name" [items]="uomList" appendTo="#order-detail-page" [clearable]="false" bindLabel="Name" bindValue="Name" placeholder="Đơn vị tính...">
                                        <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                            <div *ngIf="i">
                                                <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                            </div>
                                        </ng-template>
                                        <ng-template ng-tag-tmp let-search="searchTerm">
                                            <ion-text color="primary">
                                                <b>Thêm</b>: {{search}}    
                                            </ion-text>
                                        </ng-template>
                                    </ng-select>
                                </div>
                                <div class="col3 cell"><span *ngIf="!i.IsBaseUoM">=</span></div>
                                <div class="col4 cell"><input *ngIf="!i.IsBaseUoM" [disabled]="!pageConfig.canEditUoM" (change)="saveUoM(i)" class="c-input" [(ngModel)]="i.BaseQuantity" type="number" min="1"></div>
                                <div class="col2 cell"><span *ngIf="!i.IsBaseUoM">{{baseUomName}}</span></div>
                                <div class="col5 cell"><input [disabled]="!pageConfig.canEditUoM" (change)="saveUoM(i)" class="c-input" [(ngModel)]="i.Length" type="number" min="0"></div>
                                <div class="col6 cell"><input [disabled]="!pageConfig.canEditUoM" (change)="saveUoM(i)" class="c-input" [(ngModel)]="i.Width" type="number" min="0"></div>
                                <div class="col7 cell"><input [disabled]="!pageConfig.canEditUoM" (change)="saveUoM(i)" class="c-input" [(ngModel)]="i.Height" type="number" min="0"></div>
                                <div class="col8 cell"><input [disabled]="!pageConfig.canEditUoM" (change)="saveUoM(i)" class="c-input" [(ngModel)]="i.Weight" type="number" min="0"></div>
                                <div class="col2 cell"><input [disabled]="!pageConfig.canEditUoM" (change)="saveUoM(i)" class="c-input" [(ngModel)]="i.Barcode" type="text"></div>
                                <div class="col3 cell" *ngIf="pageConfig.canDeleteUoM">
                                    <ion-icon color="danger" (click)="deleteUoM(i)" class="min-btn" name="trash-outline"></ion-icon>
                                </div>
                            </div>
                        </section>
                        <div class="row" *ngIf="pageConfig.canAddUoM && this.id">
                            <div class="cell">
                                <ion-button fill="clear" size="small" (click)="addUoM()">
                                    <ion-icon slot="start" name="add-circle-outline"></ion-icon>
                                    Thêm đơn vị
                                </ion-button>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="price" *ngIf="segmentView.Page == 's3'">
                    <ion-grid fixed>
                        <ion-row>
                            <ion-col size="12">
                                <div class="table-contain">
                                    <section class="table" style="min-width: 700px;">
                                        <ng-container *ngFor="let i of priceList; let j = index;">
                                            <header class="bold" style="padding: 0;">
                                                <div class="col-id cell"><a [routerLink]="['/price-list/'+i.Id]">{{i.Id}}</a></div>
                                                <div class="col-item cell">{{i.Name}}</div>
                                                <div class="col-uom cell">Đơn vị</div>
                                                <div class="col-price cell">{{i.PrimaryDefaultCurrency}}</div>
                                                <div class="col-price cell">{{i.PrimaryDefaultCurrency1}}</div>
                                                <div class="col-price cell">{{i.PrimaryDefaultCurrency2}}</div>
                                                <div class="col-id cell"></div>
                                            </header>
                                            <div class="row" [ngClass]="{border_: k==0 }" *ngFor="let p of i.Prices; let k = index;">
                                                <div class="col-id cell"></div>
                                                <div class="col-item cell"></div>
                                                <div class="col-uom cell">
                                                    <ion-text color="primary"><b>{{p._UoM.Name}}</b></ion-text>
                                                </div>
                                                <div class="col-price cell"><input class="c-input" [disabled]="!pageConfig.canEditPrice || !p.IsManual" (change)="savePriceDetail(p)" mask="separator.4" thousandSeparator="," [allowNegativeNumbers]="false" type="tel" [(ngModel)]="p.Price"></div>
                                                <div class="col-price cell"><input class="c-input" [disabled]="!pageConfig.canEditPrice || !p.IsManual" (change)="savePriceDetail(p)" mask="separator.4" thousandSeparator="," [allowNegativeNumbers]="false" type="tel" [(ngModel)]="p.Price1"></div>
                                                <div class="col-price cell"><input class="c-input" [disabled]="!pageConfig.canEditPrice || !p.IsManual" (change)="savePriceDetail(p)" mask="separator.4" thousandSeparator="," [allowNegativeNumbers]="false" type="tel" [(ngModel)]="p.Price2"></div>
                                                <div class="col-id cell" (click)="changeManualPrice(p)">
                                                    <ion-icon [color]="p.IsManual?'danger':'success'" class="min-btn" [name]="p.IsManual?'lock-open':'lock-closed'"></ion-icon>
                                                </div>
                                            </div>
                                            <div class="ion-padding"></div>
                                        </ng-container>
                                    </section>
                                </div>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </div>
                <div id="s2" *ngIf="segmentView.Page == 's2'">
                    <div class="ion-padding">
                        <ion-grid fixed>
                            <ion-row>
                                <ion-col size="12" size-sm="6" size-md="6" size-lg="4" size-xl="3" *ngFor="let i of UoMs; let j = index;">
                                    <div class="image-box">
                                        <img class="img" [src]="i.Image" (error)="img.src = 'assets/undraw_no_data_qbuo.svg'" #img>

                                        <div class="image-title">
                                            {{i.Name}}
                                        </div>
                                    </div>
                                </ion-col>
                            </ion-row>
                        </ion-grid>
                    </div>
                </div>
                <div id="s5" *ngIf="segmentView.Page == 's5'">
                    <div class="table-contain">
                        <section class="table" style="min-width: 1100px;">
                            <header class="bold">
                                <div class="col1 cell">Kho</div>
                                <div class="col2 cell">Tồn kho</div>
                                <div class="col3 cell">S.L sắp nhập</div>
                                <div class="col4 cell">S.L khách đặt</div>
                                <div class="col5 cell">S.L khả dụng</div>
                                <div class="col6 cell">Min inventory</div>
                                <div class="col7 cell">Max inventory</div>
                                <div class="col8 cell">Chart</div>
                            </header>
                            <div class="row" [ngClass]="{odd: j % 2 != 0, base: i.AlternativeQuantity == i.BaseQuantity }" *ngFor="let i of UoMs; let j = index;">
                                <div class="col1 cell">Kho</div>
                                <div class="col2 cell">Tồn kho</div>
                                <div class="col3 cell">SL sắp nhập</div>
                                <div class="col4 cell">SL khách đặt</div>
                                <div class="col5 cell">SL khả dụng</div>
                                <div class="col6 cell">Min</div>
                                <div class="col7 cell">Cao</div>
                                <div class="col8 cell">-[-----]-</div>
                            </div>
                        </section>
                    </div>
                </div>
                <div id="s6" *ngIf="segmentView.Page == 's6'">
                    <div class="ion-padding">
                        <ion-grid fixed>
                            <form [formGroup]="formGroup">
                                <ng-container formArrayName="WMS_ItemInWarehouseConfig">
                                    <ion-row class="hr-group" *ngFor="let config of formGroup.get('WMS_ItemInWarehouseConfig')['controls']; let i=index">
                                        <ng-container [formGroup]="config">

                                            <ion-col size="12" size-sm="12" size-md="12" size-xl="3">
                                                <ion-list-header class="ion-no-padding">
                                                    <ion-label color="primary">Sắp xếp kho {{i+1}}</ion-label>
                                                </ion-list-header>
                                            </ion-col>
                                            <ion-col size="12" size-sm size-xl="4">

                                                <div class="c-control">
                                                    <label class="c-label" for="IDBranch">Kho
                                                        <span *ngIf="!config.controls.IDBranch.valid && !config.controls.IDBranch.pending && (config.controls.IDBranch.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <ng-select class="c-input" (change)="saveChange();" labelForId="IDBranch" formControlName="IDBranch" [items]="branchList" bindLabel="Name" bindValue="Id" placeholder="Tìm kiếm...">
                                                        <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                            <div *ngIf="i">
                                                                <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </div>


                                                <div class="c-control">
                                                    <label class="c-label" for="IDStorer">Chủ hàng
                                                        <span *ngIf="!config.controls.IDStorer.valid && !config.controls.IDStorer.pending && (config.controls.IDStorer.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <ng-select class="c-input" (change)="saveChange();" labelForId="IDStorer" formControlName="IDStorer" [items]="storerList" bindLabel="Name" bindValue="Id" placeholder="Tìm kiếm...">
                                                        <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                            <div *ngIf="i">
                                                                <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </div>
                                                <div class="c-control">
                                                    <label class="c-label" for="PutawayZone">Putaway zone
                                                        <span *ngIf="!config.controls.PutawayZone.valid && !config.controls.PutawayZone.pending && (config.controls.PutawayZone.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <ng-select class="c-input" (change)="saveChange()" labelForId="PutawayZone" formControlName="PutawayZone" [items]="zoneList" bindLabel="Name" bindValue="Id" placeholder="Tìm kiếm...">
                                                        <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                            <div *ngIf="i">
                                                                <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </div>
                                                <div class="c-control">
                                                    <label class="c-label" for="Rotation">Rotation
                                                        <span *ngIf="!config.controls.Rotation.valid && !config.controls.Rotation.pending && (config.controls.Rotation.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <ng-select class="c-input" (change)="saveChange();" labelForId="Rotation" formControlName="Rotation" [items]="RotationList" bindLabel="Name" bindValue="Code" placeholder="Tìm kiếm...">
                                                        <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                            <div *ngIf="i">
                                                                <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </div>
                                                <div class="c-control">
                                                    <label class="c-label" for="RotateBy">RotateBy
                                                        <span *ngIf="!config.controls.RotateBy.valid && !config.controls.RotateBy.pending && (config.controls.RotateBy.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <ng-select class="c-input" (change)="saveChange();" labelForId="RotateBy" formControlName="RotateBy" [items]="RotateByList" bindLabel="Name" bindValue="Code" placeholder="Tìm kiếm...">
                                                        <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                            <div *ngIf="i">
                                                                <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span> <span *ngIf="i.Remark">({{i.Remark}})</span></div>
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </div>

                                                <div class="c-control">
                                                    <label class="c-label" for="MaxPalletsPerZone">Max pallets/Zone
                                                        <span *ngIf="!config.controls.MaxPalletsPerZone.valid && !config.controls.MaxPalletsPerZone.pending && (config.controls.MaxPalletsPerZone.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="MaxPalletsPerZone" formControlName="MaxPalletsPerZone" type="text">
                                                </div>
                                                <div class="c-control">
                                                    <label class="c-label" for="StackLimit">StackLimit
                                                        <span *ngIf="!config.controls.StackLimit.valid && !config.controls.StackLimit.pending && (config.controls.StackLimit.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="StackLimit" formControlName="StackLimit" type="number">
                                                </div>
                                            </ion-col>
                                            <ion-col size="12" size-sm size-xl="4">
                                                <div class="c-control">
                                                    <label class="c-label" for="PutawayStrategy">Xếp hàng vào kho
                                                        <span *ngIf="!config.controls.PutawayStrategy.valid && !config.controls.PutawayStrategy.pending && (config.controls.PutawayStrategy.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <ng-select class="c-input" (change)="saveChange();" labelForId="PutawayStrategy" formControlName="PutawayStrategy" [items]="[]" bindLabel="Name" bindValue="Id" placeholder="Tìm kiếm...">
                                                        <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                            <div *ngIf="i">
                                                                <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </div>

                                                <div class="c-control">
                                                    <label class="c-label" for="AllocationStrategy">Chỉ định lấy hàng
                                                        <span *ngIf="!config.controls.AllocationStrategy.valid && !config.controls.AllocationStrategy.pending && (config.controls.AllocationStrategy.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <ng-select class="c-input" (change)="saveChange();" labelForId="AllocationStrategy" formControlName="AllocationStrategy" [items]="[]" bindLabel="Name" bindValue="Id" placeholder="Tìm kiếm...">
                                                        <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                            <div *ngIf="i">
                                                                <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </div>

                                                <div class="c-control">
                                                    <label class="c-label" for="PutawayLocation">PutawayLocation
                                                        <span *ngIf="!config.controls.PutawayLocation.valid && !config.controls.PutawayLocation.pending && (config.controls.PutawayLocation.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <ng-select class="c-input" (change)="saveChange();" labelForId="PutawayLocation" formControlName="PutawayLocation" [items]="locationList" bindLabel="Name" bindValue="Id" placeholder="Tìm kiếm...">
                                                        <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                            <div *ngIf="i">
                                                                <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </div>
                                                <div class="c-control">
                                                    <label class="c-label" for="InboundQCLocation">Inbound QC location
                                                        <span *ngIf="!config.controls.InboundQCLocation.valid && !config.controls.InboundQCLocation.pending && (config.controls.InboundQCLocation.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <ng-select class="c-input" (change)="saveChange();" labelForId="InboundQCLocation" formControlName="InboundQCLocation" [items]="locationList" bindLabel="Name" bindValue="Id" placeholder="Tìm kiếm...">
                                                        <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                            <div *ngIf="i">
                                                                <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </div>
                                                <div class="c-control">
                                                    <label class="c-label" for="ReturnLocation">Return location
                                                        <span *ngIf="!config.controls.ReturnLocation.valid && !config.controls.ReturnLocation.pending && (config.controls.ReturnLocation.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                    <ng-select class="c-input" (change)="saveChange();" labelForId="ReturnLocation" formControlName="ReturnLocation" [items]="locationList" bindLabel="Name" bindValue="Id" placeholder="Tìm kiếm...">
                                                        <ng-template ng-option-tmp let-i="item" let-search="searchTerm">
                                                            <div *ngIf="i">
                                                                <div> <span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span> <span [ngOptionHighlight]="search">{{i.Name}}</span></div>
                                                            </div>
                                                        </ng-template>
                                                    </ng-select>
                                                </div>
                                                <div class="c-control">
                                                    <label class="c-label" for="MinimumInventoryLevel">Số lượng lưu kho ít nhất</label>
                                                    <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="MinimumInventoryLevel" formControlName="MinimumInventoryLevel" type="number">
                                                </div>
                                                <div class="c-control">
                                                    <label class="c-label" for="MaximumInventoryLevel">Số lượng lưu kho nhiều nhất</label>
                                                    <input [readonly]="!(pageConfig.canEdit || pageConfig.canAdd)" (change)="saveChange()" class="c-input" id="MaximumInventoryLevel" formControlName="MaximumInventoryLevel" type="number">
                                                </div>
                                                <div class="c-control">
                                                    <input (change)="saveChange()" class="c-checkbox" id="IsAllowConsolidation" formControlName="IsAllowConsolidation" type="checkbox">
                                                    <label class="c-label checkbox" for="IsAllowConsolidation">Cho phép gom hàng lẻ
                                                        <span *ngIf="!config.controls.IsAllowConsolidation.valid && !config.controls.IsAllowConsolidation.pending && (config.controls.IsAllowConsolidation.dirty || submitAttempt)" ion-text color="danger">(*)</span>
                                                    </label>
                                                </div>
                                            </ion-col>

                                        </ng-container>
                                    </ion-row>



                                </ng-container>
                            </form>
                            <ion-row class="hr-group" *ngIf="this.id">
                                <ion-col size="12" size-sm size-xl="4" offset-xl="3">
                                    <ion-button (click)="addConfig({Id:0})">
                                        Thêm chủ hàng
                                    </ion-button>
                                </ion-col>
                            </ion-row>
                        </ion-grid>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ion-content>